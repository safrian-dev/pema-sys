"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[2416],{31043:(e,a,n)=>{n.d(a,{F:()=>i,Z:()=>l});n(72791);var t=n(65218),s=n(80184);const i=()=>(0,s.jsx)(t.x7,{toastOptions:{className:"",style:{}}}),l=(e,a)=>{((e,a)=>{"success"===e?t.ZP.success(a):"create"===e?(0,t.ZP)(a,{icon:"\ud83e\udd17"}):"start"===e?(0,t.ZP)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,t.ZP)("Horeee, task done!",{icon:"\ud83d\udc4f"}):t.ZP.error(a)})(e,a)}},62416:(e,a,n)=>{n.r(a),n.d(a,{default:()=>O});var t=n(72791),s=n(76807),i=n(43464),l=n(49037),d=n(19127),r=n(30690),c=n.n(r),o=n(48089),h=n(39773),u=n(25853),p=n(63009),x=n(16354),j=n(42976),m=n(8118),_=n(46724),g=n(55211),v=n(94938),k=n(73830),b=n(4828),f=n(69399),Z=n(76167),y=n(55472),S=n(11087),w=n(90838),N=n(23606),C=n(31043),P=n(37493),D=n(28755),F=n(80184);const z=[{id:0,title:"Surat Penyampaian Penawaran",name:"dok_surat_penyampaian_penawaran"},{id:1,title:"Formulir Isian Kualifikasi",name:"dok_formulir_isian_kualifikasi"},{id:2,title:"Fakta Integritas",name:"dok_fakta_integritas"},{id:3,title:"HSE Plan",name:"dok_hse_plan"},{id:4,title:"Jaminan Penawaran",name:"dok_jaminan_penawaran"},{id:5,title:"Kelengkapan Izin Usaha",name:"dok_kelengkapan_izin_usaha"},{id:6,title:"List Peralatan",name:"dok_list_peralatan"},{id:7,title:"List Man Power + CV",name:"dok_listmanpower_plus_cv"},{id:8,title:"Metode Pelaksanaan (Jasa)",name:"dok_metode_pelaksanaan"},{id:9,title:"Surat Penawaran Komersial",name:"dok_penawaran_komersial"},{id:10,title:"Perhitungan TKDN",name:"dok_perhitungan_tkdn"},{id:11,title:"QA/QC Plan",name:"dok_qaqc_plan"},{id:12,title:"Schedule Pekerjaan",name:"dok_schedule_pekerjaan"},{id:13,title:"Struktur Organisasi Pekerjaan",name:"dok_struktur_organisasi_pekerjaan"},{id:14,title:"*Dokumen Wajib Lainnya",name:"dok_wajib_lainnya"}],B=[{id:0,title:"Jaminan Penawaran",name:"dok_jaminan_penawaran"},{id:2,title:"Surat Penawaran Komersial",name:"dok_penawaran_komersial"}],U=e=>{let{modal6:a,toggle6:n,selectedCompanyName:s,tender:i,selectedCompanyData:l,selectedStage:r}=e;const[c,o]=(0,t.useState)({}),[h,u]=(0,t.useState)(z);return(0,t.useEffect)((()=>{o((null===i||void 0===i?void 0:i.centang_dok_wajib)&&JSON.parse(null===i||void 0===i?void 0:i.centang_dok_wajib))}),[i]),(0,t.useEffect)((()=>{u("Tahap II"===r?B:z)}),[r]),(0,F.jsxs)(_.Z,{isOpen:a,toggle:n.bind(null),centered:!0,size:"lg",children:[(0,F.jsx)(g.Z,{toggle:n.bind(null),children:(0,F.jsxs)("div",{className:"d-flex flex-column",children:[(0,F.jsx)("span",{className:"fw-bold",children:s}),(0,F.jsxs)("small",{children:["Cek Dokumen ",r]})]})}),(0,F.jsx)(v.Z,{children:(0,F.jsx)(D.Z,{bordered:!0,hover:!0,children:(0,F.jsx)("tbody",{children:h.map((e=>Object.keys(c).map((a=>e.name===a&&!0===c[a]&&(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),(0,F.jsx)("td",{style:{textAlign:"center"},children:void 0!==l&&(0,F.jsx)(S.rU,{to:"".concat("https://api.ptpema.co.id/","vendor_file/").concat(l[a]),target:"blank",children:(0,F.jsx)(d.Z,{color:"secondary",outline:!0,size:"sm",children:"Download"})})})]},e.id)))))})})})]})},T="https://api.ptpema.co.id/",I=e=>{let{tender:a,action:n}=e;const[s,r]=(0,t.useState)(!1),[D,z]=(0,t.useState)(!1),[B,I]=(0,t.useState)(!1),[O,A]=(0,t.useState)([]),[K,M]=(0,t.useState)([]),[L,J]=(0,t.useState)(!1),[R,E]=(0,t.useState)(!1),[q,H]=(0,t.useState)(),[Y,Q]=(0,t.useState)([]),[V,W]=(0,t.useState)([]),[G,X]=(0,t.useState)(),[$,ee]=(0,t.useState)(!1),[ae,ne]=(0,t.useState)([]),[te,se]=(0,t.useState)(),[ie,le]=(0,t.useState)(!1),[de,re]=(0,t.useState)(),[ce,oe]=(0,t.useState)(!1),[he,ue]=(0,t.useState)(),[pe,xe]=(0,t.useState)(!1),[je,me]=(0,t.useState)(!1),[_e,ge]=(0,t.useState)(!1),[ve,ke]=(0,t.useState)(!1),[be,fe]=(0,t.useState)(),[Ze,ye]=(0,t.useState)(),[Se,we]=(0,t.useState)(!1),[Ne,Ce]=(0,t.useState)(""),[Pe,De]=(0,t.useState)(void 0),[Fe,ze]=(0,t.useState)(""),[Be,Ue]=(0,t.useState)(""),Te=(0,o.Z)(),Ie=()=>{r(!s)},Oe=()=>{z(!D)},Ae=async()=>{I(!0),await Te.get("dapi/vendor/tender/".concat(a.id_tender)).then((e=>{A(e.data.data.perusahaan_yang_ikut)})).catch((e=>console.log(e))),I(!1)};(0,t.useEffect)((()=>{const e=null===O||void 0===O?void 0:O.filter((e=>"register"!==e.status)),n=null===O||void 0===O?void 0:O.filter((e=>"lulus_tahap_1"===e.status||"pemenang"===e.status)),t=null===O||void 0===O?void 0:O.filter((e=>"pemenang"===e.status));M(e),Q(n),X(e),ne("pra kualifikasi"===a.sistem_kualifikasi?n:e),re(t)}),[O]);const Ke=async(e,t)=>{ue(t),oe(!0);const s=await(0,P.Z)(e).then((e=>e.split(",")[1])).catch((e=>console.log(e)));await Te.post("dapi/vendor/tender/ba/".concat(a.id_tender),{file:s,key:t}).then((()=>{(0,C.Z)("success","Berita Acara Penetapan Berhasil didupload"),n(),Ae()})).catch((()=>(0,C.Z)("error","Something went wrong"))),ue(),oe(!1)},Me=()=>{ke(!0)};return(0,F.jsxs)(h.Z,{title:"Collapse",children:[L?(0,F.jsx)(d.Z,{type:"button",color:"primary",outline:!0,size:"sm",onClick:(()=>J(!L)).bind(null),style:{marginBottom:"1rem"},children:"Close"}):(0,F.jsx)(d.Z,{type:"button",color:"primary",outline:!0,size:"sm",onClick:async()=>{J(!0),Ae()},style:{marginBottom:"1rem"},children:"Details"}),(0,F.jsx)(u.Z,{isOpen:L,children:(0,F.jsx)(i.Z,{className:"border rounded-3",style:{fontSize:"14px"},children:B?(0,F.jsx)("div",{className:"d-flex justify-content-center py-4",children:"Loading.."}):(0,F.jsxs)(l.Z,{children:[(0,F.jsxs)(p.Z,{children:[(0,F.jsxs)(h.Z,{md:"6",children:[(0,F.jsx)("table",{width:"100%",children:(0,F.jsxs)("tbody",{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Lokasi Pengerjaan"}),(0,F.jsx)("td",{children:":"}),(0,F.jsx)("td",{className:"fw-bold",children:a.lokasi})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Waktu Pendaftaran"}),(0,F.jsx)("td",{children:":"}),(0,F.jsxs)("td",{className:"fw-bold",children:[a.tgl_pendaftaran," s/d ",a.batas_pendaftaran]})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Jenis Pengadaan"}),(0,F.jsx)("td",{children:":"}),(0,F.jsx)("td",{className:"fw-bold",style:{textTransform:"capitalize"},children:a.jenis_pengadaan})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"HPS"}),(0,F.jsx)("td",{children:":"}),(0,F.jsx)("td",{className:"fw-bold",children:(0,N.Z)(a.hps)})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Nomor KBLI"}),(0,F.jsx)("td",{children:":"}),(0,F.jsx)("td",{className:"fw-bold",children:(0,F.jsx)("div",{className:"d-flex gap 1",children:Array.isArray(JSON.parse(a.kbli))?JSON.parse(a.kbli).map(((e,n)=>(0,F.jsxs)("span",{children:["all_kbli"===e?"Semua KBLI":e," ",n+1===JSON.parse(a.kbli).length?"":"|"," \xa0"]},e))):"null"})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Sistem Kualifikasi"}),(0,F.jsx)("td",{children:":"}),(0,F.jsx)("td",{className:"fw-bold",style:{textTransform:"capitalize"},children:a.sistem_kualifikasi})]})]})}),(0,F.jsx)(h.Z,{className:"mt-3",children:(0,F.jsxs)("table",{className:"w-100",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Perusahaan Yang Mendaftar"}),(0,F.jsx)("th",{children:"Tanggal Mendaftar"})]})}),(0,F.jsxs)("tbody",{children:[(null===O||void 0===O?void 0:O.length)>0?null===O||void 0===O?void 0:O.map(((e,n)=>(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)("div",{className:"d-flex gap-2",children:[(0,F.jsxs)("span",{children:[n+1,"."]}),e.detail.bentuk_usaha," ",e.detail.nama_perusahaan,("umum"===a.owner&&"terverifikasi"!==e.detail.status_verifikasi_umum||"scm"===a.owner&&"terverifikasi"!==e.detail.status_verifikasi_scm)&&(0,F.jsx)(S.rU,{to:"/vendor/requests/check/".concat(e.perusahaan_id),target:"blank",children:(0,F.jsx)(x.Z,{className:"bg-light-danger text-danger",outline:!0,children:"Need Approval"})})]})}),(0,F.jsx)("td",{children:(0,w.Z)(e.detail.created_at)})]},e.id_peserta))):(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:"No data."})}),(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:"\xa0"})})]}),(null===a.sistem_kualifikasi||"pasca kualifikasi"===a.sistem_kualifikasi)&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Perusahaan Yang Input Dokumen"}),(0,F.jsx)("th",{children:"Aksi"})]})}),(0,F.jsx)("tbody",{children:(null===K||void 0===K?void 0:K.length)>0?null===K||void 0===K?void 0:K.map(((e,a)=>(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)("div",{className:"d-flex gap-2",children:[(0,F.jsxs)("span",{children:[a+1,"."]}),e.detail.bentuk_usaha," ",e.detail.nama_perusahaan]})}),(0,F.jsx)("td",{children:(0,F.jsx)(S.rU,{onClick:()=>{ge(!0),Ce("".concat(e.detail.bentuk_usaha," ").concat(e.detail.nama_perusahaan)),De(e),Ue("")},style:{textDecoration:"none"},children:"Cek Dokumen"})})]},e.id_peserta))):(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:"No data."})})})]})]})})]}),(0,F.jsx)(h.Z,{md:"6",children:(0,F.jsxs)("table",{className:"w-100",children:["pra kualifikasi"===a.sistem_kualifikasi&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Tahap I"}),(0,F.jsx)("th",{children:"Dokumen Penawaran"})]})}),(0,F.jsxs)("tbody",{children:[(null===K||void 0===K?void 0:K.length)>0?null===K||void 0===K?void 0:K.map(((e,a)=>(0,F.jsx)(t.Fragment,{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)("div",{className:"d-flex gap-2",children:[(0,F.jsxs)("span",{children:[a+1,"."]}),e.detail.bentuk_usaha," ",e.detail.nama_perusahaan]})}),(0,F.jsx)("td",{children:(0,F.jsx)(S.rU,{onClick:()=>{ge(!0),Ce("".concat(e.detail.bentuk_usaha," ").concat(e.detail.nama_perusahaan)),De(e),Ue("Tahap I")},style:{textDecoration:"none"},children:"Cek Dokumen"})})]},e.id_peserta)},e.id_peserta))):(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:"No data."})}),(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:"\xa0"})})]}),(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Tahap II"}),(0,F.jsx)("th",{children:"Dokumen Penawaran"})]})}),(0,F.jsxs)("tbody",{children:[(null===Y||void 0===Y?void 0:Y.length)>0?null===Y||void 0===Y?void 0:Y.map(((e,n)=>(0,F.jsxs)(t.Fragment,{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)("div",{className:"d-flex gap-2",children:[(0,F.jsxs)("span",{children:[n+1,"."]}),e.detail.bentuk_usaha," ",e.detail.nama_perusahaan]})}),(0,F.jsx)("td",{children:(0,F.jsx)(S.rU,{onClick:()=>{ge(!0),Ce("".concat(e.detail.bentuk_usaha," ").concat(e.detail.nama_perusahaan)),De(e),Ue("Tahap II")},style:{textDecoration:"none"},children:"Cek Dokumen"})})]},e.id_peserta),n+1===(null===K||void 0===K?void 0:K.length)&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Status"}),(0,F.jsx)("th",{className:"fw-bold",children:"Berita Acara"})]}),null!==(null===a||void 0===a?void 0:a.upload_ba_seleksi)?(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"submit_tahap_2"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(x.Z,{color:"warning",children:"Under Review"}):"revisi_tahap_2"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(x.Z,{color:"danger",children:(0,F.jsx)("button",{type:"button",style:{background:"none",border:"none",color:"white"},onClick:()=>{Me(),ze(a.catatan)},children:"Revisi"})}):(0,F.jsx)(x.Z,{color:"success",children:"Approved"})}),(0,F.jsx)("td",{children:null!==(null===a||void 0===a?void 0:a.upload_ba_seleksi)?(0,F.jsx)(F.Fragment,{children:"submit_pemenang"===(null===a||void 0===a?void 0:a.status_approval)||"submit_tahap_2"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(S.rU,{to:"".concat(T,"vendor_file/").concat(a.upload_ba_seleksi),target:"blank",children:"Download"}):"revisi_tahap_2"===(null===a||void 0===a?void 0:a.status_approval)?ce&&"upload_ba_seleksi"===he?"Uploding..":(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(j.Z,{htmlFor:"uploadBa".concat(a.id_tender),className:"btn btn-outline-info btn-sm outline",children:"Upload"}),(0,F.jsx)(m.Z,{hidden:!0,id:"uploadBa".concat(a.id_tender),type:"file",onChange:e=>{Ke(e.target.files[0],"upload_ba_seleksi")}})]}):(0,F.jsx)(S.rU,{to:"".concat(T,"vendor_file/").concat(a.upload_ba_seleksi),target:"blank",children:"Download"})}):(0,F.jsx)("td",{children:ce&&"upload_ba_seleksi"===he?"Uploding..":(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(j.Z,{htmlFor:"uploadBa".concat(a.id_tender),className:"btn btn-outline-info btn-sm outline",children:"Upload Penetapan"}),(0,F.jsx)(m.Z,{hidden:!0,id:"uploadBa".concat(a.id_tender),type:"file",onChange:e=>{Ke(e.target.files[0],"upload_ba_seleksi")}})]})})})]}):(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("td",{children:ce&&"upload_ba_seleksi"===he?"Uploding..":(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(j.Z,{htmlFor:"uploadBaSeleksi".concat(a.id_tender),className:"btn btn-outline-info btn-sm outline",children:"Upload Berita Acara"}),(0,F.jsx)(m.Z,{hidden:!0,id:"uploadBaSeleksi".concat(a.id_tender),type:"file",onChange:e=>{Ke(e.target.files[0],"upload_ba_seleksi")}})]})})})]})]},e.id_peserta))):(0,F.jsx)("tr",{children:(0,F.jsx)("td",{children:(0,F.jsx)(d.Z,{type:"button",size:"sm",color:"info",onClick:Ie.bind(null),children:"Pilih Peserta"})})}),(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:"\xa0"})})]}),(0,F.jsxs)(_.Z,{isOpen:s,toggle:Ie.bind(null),centered:!0,size:"lg",children:[(0,F.jsx)(g.Z,{toggle:Ie.bind(null),children:"Pilih Peserta Tahap II"}),(0,F.jsx)(v.Z,{children:0===(null===G||void 0===G?void 0:G.length)?(0,F.jsx)("div",{className:"text-center",children:"Belum ada perusahaan yang submit dokumen."}):(0,F.jsx)(y.ZP,{closeMenuOnSelect:!0,options:G,onChange:e=>W(e),isMulti:!0})}),(0,F.jsx)(k.Z,{children:0===(null===G||void 0===G?void 0:G.length)?(0,F.jsx)(d.Z,{color:"secondary",size:"sm",outline:!0,onClick:Ie.bind(null),children:"Tutup"}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(d.Z,{color:"primary",onClick:async()=>{ee(!0);const e=[];V.map((a=>e.push(a.value))),await Te.post("dapi/vendor/tender/tahapdua/".concat(a.id_tender),{list_peserta:e}).then((()=>{Ae(),(0,C.Z)("success","Peserta Tahap II berhasil dipilih")})).catch((()=>{(0,C.Z)("error","Something went wrong")})),r(!1),ee(!1)},disabled:$,children:$?"Menyimpan..":"Simpan"}),(0,F.jsx)(d.Z,{color:"secondary",onClick:Ie.bind(null),children:"Cancel"})]})})]})]}),(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Penetapan Pemenang"}),(0,F.jsx)("th",{children:"Status"}),(0,F.jsx)("th",{children:"Berita Acara"})]})}),(0,F.jsx)("tbody",{children:(null===de||void 0===de?void 0:de.length)>0?(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("tr",{children:[(0,F.jsxs)("td",{children:[de[0].detail.bentuk_usaha," ",de[0].detail.nama_perusahaan]}),(0,F.jsx)("td",{children:"submit_pemenang"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(x.Z,{color:"warning",children:"Under Review"}):"revisi_pemenang"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(x.Z,{color:"danger",children:(0,F.jsx)("button",{type:"button",style:{background:"none",border:"none",color:"white"},onClick:()=>{Me(),ze(a.catatan)},children:"Revisi"})}):"approved_pemenang"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(x.Z,{color:"success",children:"Approved"}):"-"}),null!==(null===a||void 0===a?void 0:a.upload_ba_pemenang)?(0,F.jsx)("td",{children:"submit_pemenang"===(null===a||void 0===a?void 0:a.status_approval)||"submit_tahap_2"===(null===a||void 0===a?void 0:a.status_approval)?(0,F.jsx)(S.rU,{to:"".concat(T,"vendor_file/").concat(a.upload_ba_pemenang),target:"blank",children:"Download"}):"revisi_pemenang"===(null===a||void 0===a?void 0:a.status_approval)||"revisi_tahap_2"===(null===a||void 0===a?void 0:a.status_approval)?ce&&"upload_ba_pemenang"===he?"Uploding..":(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(j.Z,{htmlFor:"uploadBa".concat(a.id_tender),className:"btn btn-outline-info btn-sm outline",children:"Upload"}),(0,F.jsx)(m.Z,{hidden:!0,id:"uploadBa".concat(a.id_tender),type:"file",onChange:e=>{Ke(e.target.files[0],"upload_ba_pemenang")}})]}):(0,F.jsx)(S.rU,{to:"".concat(T,"vendor_file/").concat(a.upload_ba_pemenang),target:"blank",children:"Download"})}):(0,F.jsx)("td",{children:ce&&"upload_ba_pemenang"===he?"Uploding..":(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(j.Z,{htmlFor:"uploadBa".concat(a.id_tender),className:"btn btn-outline-info btn-sm outline",children:"Upload Penetapan"}),(0,F.jsx)(m.Z,{hidden:!0,id:"uploadBa".concat(a.id_tender),type:"file",onChange:e=>{Ke(e.target.files[0],"upload_ba_pemenang")}})]})})]})}):(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsx)(d.Z,{type:"button",size:"sm",color:"info",onClick:Oe.bind(null),children:"Pilih Pemenang"})}),(0,F.jsx)("td",{children:" - "}),(0,F.jsx)("td",{children:(0,F.jsx)("div",{children:(0,F.jsx)(d.Z,{type:"button",size:"sm",color:"info",outline:!0,disabled:!0,children:"Upload Penetapan"})})})]})})}),(0,F.jsxs)(_.Z,{isOpen:D,toggle:Oe.bind(null),centered:!0,size:"lg",children:[(0,F.jsx)(g.Z,{toggle:Oe.bind(null),children:"Pilih Pemenang"}),(0,F.jsx)(v.Z,{children:0===(null===ae||void 0===ae?void 0:ae.length)?(0,F.jsx)("div",{className:"text-center",children:"Belum ada list kandidat pemenang."}):(0,F.jsx)(y.ZP,{closeMenuOnSelect:!0,options:ae,onChange:e=>se(e)})}),(0,F.jsx)(k.Z,{children:0===(null===K||void 0===K?void 0:K.length)?(0,F.jsx)(d.Z,{color:"secondary",size:"sm",outline:!0,onClick:Oe.bind(null),children:"Tutup"}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(d.Z,{color:"primary",onClick:async()=>{le(!0),await Te.post("dapi/vendor/tender/pemenang/".concat(a.id_tender),{list_peserta:te.value}).then((()=>{(0,C.Z)("success","Pemenang Tender telah ditetapkan"),Ae()})).catch((()=>(0,C.Z)("error","Something went wrong"))),z(!1),le(!1)},disabled:ie,children:ie?"Menyimpan..":"Simpan"}),(0,F.jsx)(d.Z,{color:"secondary",onClick:Oe.bind(null),children:"Cancel"})]})})]})]})})]}),(0,F.jsx)("div",{className:"d-flex justify-content-end bg-light-secondary rounded-3 p-2 mt-4",children:(0,F.jsxs)("div",{className:"d-flex gap-3 ",children:[(0,F.jsx)("abbr",{title:"Edit Status",children:(0,F.jsx)(d.Z,{type:"button",size:"sm",color:"primary",outline:!0,onClick:()=>me(!0),children:"Edit Status"})}),(0,F.jsx)("abbr",{title:"Hapus Tender",children:(0,F.jsx)(d.Z,{type:"button",size:"sm",color:"danger",outline:!0,onClick:()=>{var e;e=a.id_tender,xe(!pe),H(e)},children:R&&q===a.id_tender?"Deleting..":(0,F.jsx)(c(),{icon:"delete",style:{fontSize:"14px"}})})})]})}),(0,F.jsxs)(_.Z,{isOpen:pe,centered:!0,children:[(0,F.jsx)(g.Z,{children:"Konfirmasi"}),(0,F.jsx)(v.Z,{children:(0,F.jsx)("div",{className:"d-flex flex-row gap-2",children:"Apakah Anda yakin akan menghapus data pengadaan ini?"})}),(0,F.jsxs)(k.Z,{children:[R?(0,F.jsx)(d.Z,{type:"button",color:"success",disabled:!0,children:(0,F.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,F.jsx)(b.Z,{size:"sm"}),"Deleting.."]})}):(0,F.jsx)(d.Z,{type:"button",color:"danger",onClick:()=>(async e=>{E(!0),await Te.post("dapi/vendor/tender/delete/".concat(e)).then((()=>{(0,C.Z)("success","Tender berhasil dihapus"),n()})).catch((()=>(0,C.Z)("error","Something went wrong"))),E(!1)})(a.id_tender),disabled:R,size:"sm",children:"Ya"}),(0,F.jsx)(d.Z,{color:"secondary",size:"sm",outline:!0,onClick:()=>xe(!1),children:"Batal"})]})]}),(0,F.jsxs)(_.Z,{isOpen:ve,centered:!0,fade:!1,children:[(0,F.jsx)(g.Z,{children:"Catatan Revisi"}),(0,F.jsx)(v.Z,{children:(0,F.jsx)("p",{children:Fe})}),(0,F.jsx)(k.Z,{children:(0,F.jsx)(d.Z,{color:"secondary",size:"sm",outline:!0,onClick:()=>ke(!1),children:"Tutup"})})]}),(0,F.jsxs)(_.Z,{isOpen:je,centered:!0,children:[(0,F.jsx)(g.Z,{children:"Status Tender"}),(0,F.jsxs)(f.Z,{onSubmit:async e=>{e.preventDefault(),we(!0);const t={status_tender:null===be||void 0===be?void 0:be.status_tender,file_document:null===Ze||void 0===Ze?void 0:Ze.status_dokumen};await Te.post("dapi/vendor/tender/status-update/".concat(a.id_tender),t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{n(),me(!1),we(!1),(0,C.Z)("success","Tender status updated successfully")})).catch((()=>{me(!1),we(!1),(0,C.Z)("error","Action failed.")}))},children:[(0,F.jsxs)(v.Z,{children:[(0,F.jsxs)(Z.Z,{children:[(0,F.jsx)(j.Z,{for:"status_tender",children:"Status"}),(0,F.jsxs)(m.Z,{type:"select",id:"status_tender",name:"status_tender",onChange:e=>(e=>{fe((a=>({...a,[e.target.id]:e.target.value})))})(e),defaultValue:null===a||void 0===a?void 0:a.status_tender,children:[(0,F.jsx)("option",{value:"buka",children:"Buka"}),(0,F.jsx)("option",{value:"tutup",children:"Tutup"}),(0,F.jsx)("option",{value:"batal",children:"Batal"})]})]}),(0,F.jsxs)(Z.Z,{children:[(0,F.jsx)(j.Z,{for:"status_dokumen",children:"Upload Dokumen"}),(0,F.jsx)(m.Z,{type:"file",id:"status_dokumen",name:"status_dokumen",accept:"application/pdf",onChange:e=>(e=>{ye((a=>({...a,[e.target.id]:e.target.files[0]})))})(e)}),(0,F.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,F.jsx)("small",{className:"text-muted",children:"File format .pdf (max. 10mb)"}),(0,F.jsx)("small",{className:"text-muted",children:(0,F.jsx)("i",{children:"Opsional"})})]})]})]}),(0,F.jsxs)(k.Z,{children:[(0,F.jsx)(d.Z,{type:"submit",color:"primary",size:"sm",disabled:Se,children:Se?"Menyimpan..":"Submit"}),(0,F.jsx)(d.Z,{color:"secondary",size:"sm",outline:!0,onClick:()=>me(!1),children:"Batal"})]})]})]}),(0,F.jsx)(U,{modal6:_e,toggle6:()=>{ge(!_e)},tender:a,selectedCompanyName:Ne,selectedCompanyData:Pe,selectedStage:Be})]})})})]})},O=()=>{const e=(0,o.Z)(),{data:a,refetch:n}=(0,s.a)({queryKey:["cat"],queryFn:()=>e.get("dapi/vendor/tender").then((e=>e.data.data))});return(0,F.jsx)(F.Fragment,{children:0===(null===a||void 0===a?void 0:a.length)?(0,F.jsx)(i.Z,{className:"mb-2 rounded-3",children:(0,F.jsx)(l.Z,{children:(0,F.jsxs)("div",{className:"d-flex align-items-center gap-1 w-50",children:[(0,F.jsx)("div",{className:"d-flex align-items-center",style:{width:"30px",color:"#21C1D6"},children:(0,F.jsx)(c(),{icon:"information"})}),(0,F.jsx)("span",{children:"Belum ada data tender"})]})})}):null===a||void 0===a?void 0:a.map((e=>(0,F.jsx)(i.Z,{className:"mb-2 rounded-3",children:(0,F.jsxs)(l.Z,{children:[(0,F.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,F.jsxs)("div",{className:"d-flex flex-column",children:[(0,F.jsx)("strong",{children:e.nama_tender}),(0,F.jsxs)("div",{className:"d-flex gap-2",children:[(0,F.jsxs)("small",{children:[" ","Sistem Kualifikasi: ",(0,F.jsx)("span",{className:"fw-bold",children:e.sistem_kualifikasi})]})," ","|",(0,F.jsxs)("small",{children:[" ","Metode: ",(0,F.jsx)("span",{className:"fw-bold",children:e.metode_pengadaan})]})," ","|",(0,F.jsxs)("small",{children:[" ","Status: ",(0,F.jsx)("span",{className:"fw-bold",children:e.status_tender})]})]})]}),(0,F.jsx)("div",{children:(0,F.jsx)(d.Z,{href:"vendor/update-tender/".concat(e.id_tender),color:"primary",size:"sm",disabled:!0,children:"Edit Tender"})})]}),(0,F.jsx)(I,{tender:e,action:n})]})},null===e||void 0===e?void 0:e.id_tender)))})}},90838:(e,a,n)=>{n.d(a,{Z:()=>t});const t=e=>{if(e){const a=new Date,n=new Date(e),t=n.toDateString()===a.toDateString()?"Today":n.toDateString(),s=n.toLocaleString().split(",")[1];return"".concat(t,", ").concat(s.split(":")[0],":").concat(s.split(":")[1]," ").concat(s.split(" ")[2]||"")}return e}},37493:(e,a,n)=>{n.d(a,{Z:()=>t});const t=e=>new Promise((a=>{let n="";const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{n=t.result,a(n)}}))},23606:(e,a,n)=>{n.d(a,{Z:()=>t});const t=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)}}]);
//# sourceMappingURL=2416.f166b7b4.chunk.js.map