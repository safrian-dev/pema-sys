"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[497],{31043:(e,a,n)=>{n.d(a,{F:()=>l,Z:()=>d});n(72791);var s=n(65218),i=n(80184);const l=()=>(0,i.jsx)(s.x7,{toastOptions:{className:"",style:{}}}),d=(e,a)=>{((e,a)=>{"success"===e?s.ZP.success(a):"create"===e?(0,s.ZP)(a,{icon:"\ud83e\udd17"}):"start"===e?(0,s.ZP)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,s.ZP)("Horeee, task done!",{icon:"\ud83d\udc4f"}):s.ZP.error(a)})(e,a)}},39497:(e,a,n)=>{n.r(a),n.d(a,{default:()=>y});var s=n(72791),i=n(76807),l=n(39773),d=n(43464),r=n(49037),o=n(14448),t=n(69399),c=n(63009),h=n(76167),k=n(42976),u=n(8118),j=n(19127),p=n(4828),_=n(30690),m=n.n(_),x=n(57689),Z=n(11087),g=n(48089),v=n(31043),f=n(37493),b=n(80184);const y=()=>{const{id:e}=(0,x.UO)(),[a,n]=(0,s.useState)(!1),[_,y]=(0,s.useState)(),[w,C]=(0,s.useState)(!1),[F,N]=(0,s.useState)(!1),[P,S]=(0,s.useState)(!0),[D,K]=(0,s.useState)(!0),[J,T]=(0,s.useState)(),[q,B]=(0,s.useState)(),[L,R]=(0,s.useState)({dok_fakta_integritas:!1,dok_formulir_isian_kualifikasi:!1,dok_hse_plan:!1,dok_jaminan_penawaran:!1,dok_kelengkapan_izin_usaha:!1,dok_list_peralatan:!1,dok_listmanpower_plus_cv:!1,dok_metode_pelaksanaan:!1,dok_penawaran_komersial:!1,dok_perhitungan_tkdn:!1,dok_qaqc_plan:!1,dok_schedule_pekerjaan:!1,dok_struktur_organisasi_pekerjaan:!1,dok_surat_penyampaian_penawaran:!1,dok_wajib_lainnya:!1}),U=(0,g.Z)(),{data:z,refetch:E}=(0,i.a)({queryKey:["tenderbyid"],queryFn:()=>U.get("dapi/vendor/tender/".concat(e)).then((e=>e.data.data))});(0,s.useEffect)((()=>{y(z),"umum"===(null===z||void 0===z?void 0:z.metode_pengadaan)||"terbatas"===(null===z||void 0===z?void 0:z.metode_pengadaan)?(C(!0),"pasca kualifikasi"===(null===z||void 0===z?void 0:z.sistem_kualifikasi)?N(!0):N(!1)):C(!1),R((null===z||void 0===z?void 0:z.centang_dok_wajib)&&JSON.parse(null===z||void 0===z?void 0:z.centang_dok_wajib))}),[z]);const I=e=>{y((a=>({...a,[e.target.id]:e.target.value})))},O=e=>{R((a=>({...a,[e.target.id]:e.target.checked})))};return(0,b.jsx)(l.Z,{lg:"12",children:(0,b.jsx)(d.Z,{children:(0,b.jsxs)(r.Z,{className:"d-flex flex-column gap-2",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,b.jsxs)(o.Z,{tag:"h4",className:"fw-bold",children:[(null===z||void 0===z?void 0:z.nama_tender)||"..",(0,b.jsx)("br",{}),(0,b.jsx)("small",{style:{fontWeight:"lighter"},children:"Update Tender"})]}),(0,b.jsx)(Z.rU,{to:"projects",style:{textDecoration:"none"}})]}),(0,b.jsxs)(t.Z,{onSubmit:async e=>{e.preventDefault(),n(!0),_.id=null===_||void 0===_?void 0:_.id_tender,_.centang_dok_wajib=L,_.dok_tender=J,_.dok_deskripsi_tender=q,await U.post("dapi/vendor/tender/update",_).then((()=>{(0,v.Z)("success","Tender updated successfully."),E()})).catch((()=>{(0,v.Z)("error","Something went wrong.")})),S(!0),K(!0),n(!1)},children:[(0,b.jsxs)(c.Z,{lg:"12",children:[(0,b.jsxs)(l.Z,{md:"6",children:[(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"metode_pengadaan",children:"Metode Pengadaan"}),(0,b.jsxs)(u.Z,{type:"select",name:"metode_pengadaan",id:"metode_pengadaan",onChange:e=>{(e=>{I(e),"umum"===e.target.value||"terbatas"===e.target.value?C(!0):C(!1)})(e)},value:(null===_||void 0===_?void 0:_.metode_pengadaan)||"",children:[(0,b.jsx)("option",{value:"umum",children:"Umum"}),(0,b.jsx)("option",{value:"terbatas",children:"Terbatas"}),(0,b.jsx)("option",{value:"pengadaan langsung",children:"Pengadaan Langsung"}),(0,b.jsx)("option",{value:"penunjukkan langsung",children:"Penunjukkan Langsung"})]})]}),w&&(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"sistem_kualifikasi",children:"Sistem Kualifikasi"}),(0,b.jsxs)(u.Z,{type:"select",name:"sistem_kualifikasi",id:"sistem_kualifikasi",onChange:e=>(e=>{I(e),"pasca kualifikasi"===e.target.value?N(!0):N(!1)})(e),value:(null===_||void 0===_?void 0:_.sistem_kualifikasi)||"",children:[(0,b.jsx)("option",{value:"pasca kualifikasi",children:"Pasca Kualifikasi"}),(0,b.jsx)("option",{value:"pra kualifikasi",children:"Pra Kualifikasi"})]})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"nama_tender",children:"Nama Tender"}),(0,b.jsx)(u.Z,{type:"text",name:"nama_tender",id:"nama_tender",value:(null===_||void 0===_?void 0:_.nama_tender)||"",onChange:I})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"lokasi",children:"Lokasi Pekerjaan"}),(0,b.jsx)(u.Z,{type:"text",name:"lokasi",id:"lokasi",value:(null===_||void 0===_?void 0:_.lokasi)||"",onChange:I})]}),(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(l.Z,{md:"6",children:(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"tgl_pendaftaran",children:"Tanggal Pendaftaran"}),(0,b.jsx)(u.Z,{type:"date",name:"tgl_pendaftaran",id:"tgl_pendaftaran",value:(null===_||void 0===_?void 0:_.tgl_pendaftaran)||"",onChange:I})]})}),(0,b.jsx)(l.Z,{md:"6",children:(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"batas_pendaftaran",children:"Batas Pendaftaran"}),(0,b.jsx)(u.Z,{type:"date",name:"batas_pendaftaran",id:"batas_pendaftaran",value:(null===_||void 0===_?void 0:_.batas_pendaftaran)||"",onChange:I})]})})]}),w?"":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"jenis_pengadaan",children:"Jenis Pengadaan"}),(0,b.jsxs)(u.Z,{type:"select",name:"jenis_pengadaan",id:"jenis_pengadaan",onChange:I,value:(null===_||void 0===_?void 0:_.jenis_pengadaan)||"",children:[(0,b.jsx)("option",{value:"barang",children:"Barang"}),(0,b.jsx)("option",{value:"jasa",children:"Jasa"}),(0,b.jsx)("option",{value:"jasa konstruksi",children:"Jasa Konstruksi"}),(0,b.jsx)("option",{value:"jasa konsultasi",children:"Jasa Konsultasi"})]})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"kbli",children:"Nomor KBLI"}),(0,b.jsxs)(u.Z,{type:"select",name:"kbli",id:"kbli",onChange:I,value:"",children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"- Pilih -"}),(0,b.jsx)("option",{value:"12345678",children:"12345678 - ABCD"})]})]})]})]}),(0,b.jsxs)(l.Z,{md:"6",children:[w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"jenis_pengadaan",children:"Jenis Pengadaan"}),(0,b.jsxs)(u.Z,{type:"select",name:"jenis_pengadaan",id:"jenis_pengadaan",onChange:I,value:(null===_||void 0===_?void 0:_.jenis_pengadaan)||"",children:[(0,b.jsx)("option",{value:"barang",children:"Barang"}),(0,b.jsx)("option",{value:"jasa",children:"Jasa"}),(0,b.jsx)("option",{value:"jasa konstruksi",children:"Jasa Konstruksi"}),(0,b.jsx)("option",{value:"jasa konsultasi",children:"Jasa Konsultasi"})]})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"kbli",children:"Nomor KBLI"}),(0,b.jsxs)(u.Z,{type:"select",name:"kbli",id:"kbli",onChange:I,value:"",children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"- Pilih -"}),(0,b.jsx)("option",{value:"12345678",children:"12345678 - ABCD"})]})]})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"hps",children:"HPS"}),(0,b.jsx)(u.Z,{type:"text",name:"hps",id:"hps",value:(null===_||void 0===_?void 0:_.hps)||"",onChange:I})]}),(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(l.Z,{md:"10",children:(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"dok_tender",children:"Dokumen Tender"}),P?(0,b.jsx)(l.Z,{className:"py-2",children:(0,b.jsx)(Z.rU,{children:"File Dokumen Tender"})}):(0,b.jsx)(u.Z,{type:"file",name:"dok_tender",id:"dok_tender",onChange:e=>{return a=e.target.files[0],void(0,f.Z)(a).then((e=>T(e.split(",")[1]))).catch((e=>console.log(e)));var a},accept:"application/pdf"})]})}),(0,b.jsx)(l.Z,{md:"2",className:"d-flex justify-content-end align-items-center pt-4",children:(0,b.jsx)("button",{type:"button",style:{border:"none",background:"none"},children:(0,b.jsx)(m(),{icon:"".concat(P?"edit":"close"),onClick:()=>{S(!P),T()},className:"text-muted",style:{fontSize:"20px"}})})})]}),(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(l.Z,{md:"10",children:(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"dok_deskripsi_tender",children:"Dokumen Deskripsi Tender"}),D?(0,b.jsx)(l.Z,{className:"py-2",children:(0,b.jsx)(Z.rU,{children:"File Dokumen Deskripsi Tender"})}):(0,b.jsx)(u.Z,{type:"file",name:"dok_deskripsi_tender",id:"dok_deskripsi_tender",onChange:e=>{return a=e.target.files[0],void(0,f.Z)(a).then((e=>B(e.split(",")[1]))).catch((e=>console.log(e)));var a},accept:"application/pdf"})]})}),(0,b.jsx)(l.Z,{md:"2",className:"d-flex justify-content-end align-items-center pt-4",children:(0,b.jsx)("button",{type:"button",style:{border:"none",background:"none"},children:(0,b.jsx)(m(),{icon:"".concat(D?"edit":"close"),onClick:()=>{K(!D),B()},className:"text-muted",style:{fontSize:"20px"}})})})]}),!w&&(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(k.Z,{htmlFor:"perusahaan",children:"Perusahaan Yang Ditunjuk"}),(0,b.jsx)(u.Z,{type:"select",name:"perusahaan",id:"perusahaan",onChange:I,children:(0,b.jsx)("option",{value:"",children:"ambil dari db"})})]})]})]}),(0,b.jsxs)(c.Z,{lg:"12",className:"mt-3",children:[(0,b.jsxs)(l.Z,{lg:"6",children:[(0,b.jsx)("h4",{className:"fw-bold",children:w&&!F?"Tahap I":"Dokumen Yang Diwajibkan"}),(0,b.jsxs)(c.Z,{children:[(0,b.jsxs)(l.Z,{md:"6",children:[(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_surat_penyampaian_penawaran",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_surat_penyampaian_penawaran)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_surat_penyampaian_penawaran",className:"form-label",children:"Surat Penyampaian Penawaran"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_formulir_isian_kualifikasi",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_formulir_isian_kualifikasi)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_formulir_isian_kualifikasi",className:"form-label",children:"Formulir Isian Kualifikasi"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_fakta_integritas",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_fakta_integritas)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_fakta_integritas",className:"form-label",children:"Pakta Integritas"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_hse_plan",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_hse_plan)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_hse_plan",className:"form-label",children:"HSE Plan"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_listmanpower_plus_cv",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_listmanpower_plus_cv)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_listmanpower_plus_cv",className:"form-label",children:"List Man Power + CV"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_metode_pelaksanaan",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_metode_pelaksanaan)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_metode_pelaksanaan",className:"form-label",children:"Metode Pelaksanaan (Jasa)"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_struktur_organisasi_pekerjaan",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_struktur_organisasi_pekerjaan)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_struktur_organisasi_pekerjaan",className:"form-label",children:"Struktur Organisasi Pekerjaan"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_wajib_lainnya",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_wajib_lainnya)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_wajib_lainnya",className:"form-label",children:"*Dokumen Wajib Lainnya"})]})]}),(0,b.jsxs)(l.Z,{md:"6",children:[(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_qaqc_plan",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_qaqc_plan)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_qaqc_plan",className:"form-label",children:"QA/QC Plan"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_perhitungan_tkdn",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_perhitungan_tkdn)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_perhitungan_tkdn",className:"form-label",children:"Perhitungan TKDN"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_schedule_pekerjaan",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_schedule_pekerjaan)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_schedule_pekerjaan",className:"form-label",children:"Schedule Pekerjaan"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_list_peralatan",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_list_peralatan)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_list_peralatan",className:"form-label",children:"List Peralatan"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_kelengkapan_izin_usaha",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_kelengkapan_izin_usaha)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_kelengkapan_izin_usaha",className:"form-label",children:"Kelengkapan Izin Usaha"})]}),F&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_penawaran_komersial",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_penawaran_komersial)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_penawaran_komersial",className:"form-label",children:"Surat Penawaran Komersial"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_jaminan_penawaran",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_jaminan_penawaran)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_jaminan_penawaran",className:"form-label",children:"Jaminan Penawaran"})]})]})]})]})]}),!F&&w&&(0,b.jsxs)(l.Z,{lg:"6",children:[(0,b.jsx)("h4",{className:"fw-bold",children:"Tahap II"}),(0,b.jsxs)(l.Z,{md:"6",children:[(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_penawaran_komersial",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_penawaran_komersial)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_penawaran_komersial",className:"form-label",children:"Surat Penawaran Komersial"})]}),(0,b.jsxs)(h.Z,{check:!0,children:[(0,b.jsx)(u.Z,{type:"checkbox",id:"dok_jaminan_penawaran",onChange:O,checked:(null===L||void 0===L?void 0:L.dok_jaminan_penawaran)||""}),(0,b.jsx)(k.Z,{check:!0,htmlFor:"dok_jaminan_penawaran",className:"form-label",children:"Jaminan Penawaran"})]})]})]})]}),(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsxs)("div",{className:"d-flex gap-3",children:[(0,b.jsx)(Z.rU,{to:"/vendor",children:(0,b.jsx)(j.Z,{type:"button",color:"secondary",outline:!0,children:"Cancel"})}),a?(0,b.jsx)(j.Z,{type:"button",color:"success",disabled:!0,children:(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,b.jsx)(p.Z,{size:"sm"}),"Menyimpan.."]})}):(0,b.jsx)(j.Z,{type:"submit",color:"success",children:"Update"})]})})]})]})})})}},37493:(e,a,n)=>{n.d(a,{Z:()=>s});const s=e=>new Promise((a=>{let n="";const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{n=s.result,a(n)}}))},76807:(e,a,n)=>{n.d(a,{a:()=>u});var s=n(73734),i=n(21135),l=n(72791),d=n(69538),r=n(97413),o=n(76153),t=n(96403),c=n(30909),h=n(49952),k=n(38447);function u(e,a,n){return function(e,a){const n=(0,t.NL)({context:e.context}),s=(0,c.S)(),i=(0,o._)(),u=n.defaultQueryOptions(e);u._optimisticResults=s?"isRestoring":"optimistic",u.onError&&(u.onError=d.V.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=d.V.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=d.V.batchCalls(u.onSettled)),(0,k.Fb)(u),(0,h.pf)(u,i),(0,h.JN)(i);const[j]=l.useState((()=>new a(n,u))),p=j.getOptimisticResult(u);if((0,r.$)(l.useCallback((e=>{const a=s?()=>{}:j.subscribe(d.V.batchCalls(e));return j.updateResult(),a}),[j,s]),(()=>j.getCurrentResult()),(()=>j.getCurrentResult())),l.useEffect((()=>{j.setOptions(u,{listeners:!1})}),[u,j]),(0,k.SB)(u,p,s))throw(0,k.j8)(u,j,i);if((0,h.KJ)({result:p,errorResetBoundary:i,useErrorBoundary:u.useErrorBoundary,query:j.getCurrentQuery()}))throw p.error;return u.notifyOnChangeProps?p:j.trackResult(p)}((0,s._v)(e,a,n),i.z)}}}]);
//# sourceMappingURL=497.74f518c0.chunk.js.map